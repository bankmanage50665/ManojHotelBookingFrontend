/*! For license information please see 92.c21ec61a.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkquiz_app=self.webpackChunkquiz_app||[]).push([[92],{2092:(e,s,t)=>{t.r(s),t.d(s,{default:()=>u,loader:()=>b});var a=t(3216),l=t(1387),o=t(712),i=t(1577),n=(t(2502),t(184)),r=t(9804),c=t(5043),d=t(9380);const x=(0,t(6043).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var m=t(579);const h=e=>{let{phoneNumber:s}=e;return(0,m.jsxs)("p",{className:"flex items-center text-gray-300",children:[(0,m.jsx)(x,{className:"mr-2 text-indigo-400",size:18}),"Helpline number:",(0,m.jsx)("a",{href:`tel:${s}`,onClick:e=>{e.preventDefault(),window.location.href=`tel:${s}`},className:"ml-2 text-indigo-400 hover:text-indigo-300 transition-colors duration-200",children:s})]})};var g=t(3352),p=t(990);function u(){const[e,s]=(0,c.useState)(!1),t=(0,a.g)().id,x=(0,a.LG)(),g=x&&x.booking,u=(0,a.Zp)(),b=(0,a.Ew)("root"),j=g.bookedRooms.reduce(((e,s)=>e+s.totalPrice),0);(0,c.useEffect)((()=>{(0,p.sx)("CompleteBooking",{value:j,currency:"INR"})}),[]);return(0,m.jsx)(m.Fragment,{children:(0,m.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-800 to-gray-900 py-16 px-4 sm:px-6 lg:px-8",children:(0,m.jsx)("div",{className:"max-w-7xl mx-auto",children:g&&g.bookedRooms.length>=1?(0,m.jsxs)(o.P.div,{className:"space-y-10",initial:{opacity:0},animate:{opacity:1},transition:{duration:.5},children:[(0,m.jsx)("h1",{className:"text-5xl font-extrabold text-white mb-8 text-center",children:"Your Booked Rooms"}),(0,m.jsx)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg border border-gray-700 mb-8",children:(0,m.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[(0,m.jsxs)("div",{className:"text-gray-300 mb-4 sm:mb-0",children:[(0,m.jsx)("span",{className:"text-xl font-semibold",children:"Total Bookings Value"}),(0,m.jsxs)("p",{className:"text-sm text-gray-400 mt-1",children:[g.bookedRooms.length," ",1===g.bookedRooms.length?"room":"rooms"," ","booked"]})]}),(0,m.jsxs)("div",{className:"flex items-center text-3xl font-bold text-yellow-400",children:[(0,m.jsx)(n.gPb,{className:"mr-2"}),(0,m.jsx)("span",{children:j.toLocaleString()})]})]})}),g.bookedRooms.map(((a,c)=>(0,m.jsx)(o.P.li,{className:"bg-gray-800 shadow-2xl rounded-2xl overflow-hidden transform transition duration-500 hover:scale-105",initial:{y:50,opacity:0},animate:{y:0,opacity:1},transition:{delay:.1*c},children:(0,m.jsxs)("div",{className:"md:flex",children:[(0,m.jsx)("div",{className:"md:flex-shrink-0 w-full md:w-2/5",children:(0,m.jsx)(i.FN,{showThumbs:!1,showStatus:!1,infiniteLoop:!0,autoPlay:!1,interval:5e3,children:a.hotelId.images.map(((e,s)=>(0,m.jsx)("div",{className:"h-full",children:(0,m.jsx)("img",{src:`https://hotel-booking-api-2x5aw.ondigitalocean.app/${e}`,alt:`Hotel image ${s+1}`,className:"w-full h-full object-cover"})},s)))})}),(0,m.jsxs)("div",{className:"p-10 md:w-3/5",children:[(0,m.jsx)("div",{className:"uppercase tracking-wide text-sm text-indigo-400 font-bold mb-2",children:a.status}),(0,m.jsx)("h2",{className:"text-3xl leading-tight font-extrabold text-white mb-4",children:a.hotelId.name}),(0,m.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,m.jsx)("div",{children:(0,m.jsxs)("p",{className:"flex items-center text-gray-300",children:[(0,m.jsx)(n.bfZ,{className:"mr-2 text-indigo-400"}),"Check-in:",(0,m.jsx)("span",{className:"ml-2",children:new Date(a.checkInDate).toLocaleDateString()})]})}),(0,m.jsx)("div",{children:(0,m.jsxs)("p",{className:"flex items-center text-gray-300",children:[(0,m.jsx)(n.bfZ,{className:"mr-2 text-indigo-400"}),"Check-out:",(0,m.jsx)("span",{className:"ml-2",children:new Date(a.checkOutDate).toLocaleDateString()})]})}),(0,m.jsxs)("div",{className:"flex items-center justify-between",children:[(0,m.jsxs)("span",{className:"text-yellow-400 font-semibold text-lg sm:text-xl flex items-center",children:[(0,m.jsx)(n.gPb,{className:"mr-1"}),a.totalPrice]}),(0,m.jsx)("span",{className:"text-sm font-light text-gray-300",children:"per night"})]}),(0,m.jsx)("div",{children:(0,m.jsxs)("p",{className:"flex items-center text-gray-300",children:[(0,m.jsx)(n.x$1,{className:"mr-2 text-indigo-400"}),"Number of Guests:",(0,m.jsx)("span",{className:"ml-2",children:a.numberOfGuests})]})}),(0,m.jsx)("div",{children:(0,m.jsx)(h,{phoneNumber:a.hotelId.phone})})]}),(0,m.jsx)("div",{className:"border-t border-gray-700 pt-4",children:(0,m.jsxs)("p",{className:"flex items-center text-gray-300 mb-2",children:[(0,m.jsx)(n.x$1,{className:"mr-2 text-indigo-400"}),"Booked by:"," ",(0,m.jsx)("span",{className:"ml-2",children:a.userName})]})}),(0,m.jsx)("div",{children:(0,m.jsxs)("p",{className:"flex items-center text-gray-300",children:[(0,m.jsx)(r.BbP,{className:"mr-2 text-indigo-400"}),"Booking status:",(0,m.jsx)("span",{className:"ml-2 "+("CANCELED"===a.status.toUpperCase()?"text-red-400":"text-green-400"),children:a.status.toUpperCase()})]})}),(0,m.jsx)(o.P.button,{type:"submit",disabled:"Canceled"===a.status,onClick:()=>(async e=>{try{s(!0);const t=await fetch(`https://hotel-booking-api-2x5aw.ondigitalocean.app/bookings/${e}/cancel`,{method:"DELETE",headers:{Authorization:"Bearer "+b}}),a=await t.json();if(!t.ok)throw new Error(a.message)}catch(a){throw s(!1),(0,l.Pq)({message:"Field to cancel booking, Please try agin later."},{status:401})}return s(!1),u(`/booked/${t}`)})(a._id),whileHover:{scale:1.05},whileTap:{scale:.95},className:"mt-8 w-full bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-full transition duration-300 ease-in-out transform hover:-translate-y-1 focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-opacity-50",children:"Canceled"===a.status?(0,m.jsx)("p",{children:"You canceled your hotel booking"}):e?(0,m.jsx)(d.A,{}):"Cancel booking"})]})]})},c)))]}):(0,m.jsx)("p",{className:"text-center text-2xl text-gray-300",children:"No bookings yet. Time to plan your next luxurious getaway!"})})})})}async function b(){const e=(0,g.F6)();try{const s=await fetch(`https://hotel-booking-api-2x5aw.ondigitalocean.app/bookings/${e}`),t=await s.json();if(!s.ok)throw new Error(t.message);return t}catch(s){throw(0,l.Pq)({message:"Field to find booked hotel, Please try again later."},{status:500})}}}}]);
//# sourceMappingURL=92.c21ec61a.chunk.js.map