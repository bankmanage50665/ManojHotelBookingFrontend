"use strict";(self.webpackChunkquiz_app=self.webpackChunkquiz_app||[]).push([[447],{3447:(e,s,l)=>{l.r(s),l.d(s,{default:()=>p});var n=l(3216),a=l(1387),t=l(5475),o=l(5043),r=l(3352),d=l(7428),c=l(9380),i=l(7347),u=l(579);function p(){const[e,s]=(0,o.useState)(null),[l,p]=(0,o.useState)(null),[m,h]=(0,o.useState)(null),b=(0,n.Zp)(),x=(0,r.F6)(),f=(0,n.Ew)("root"),g=(0,o.useRef)();return m&&g.current.open(),(0,o.useEffect)((()=>{null!==f&&f||b("/login")}),[f]),(0,u.jsxs)(u.Fragment,{children:[m&&(0,u.jsx)(i.A,{ref:g,error:m,onClose:function(){h(null)}}),(0,u.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,u.jsx)("h2",{className:"text-2xl font-bold text-center mb-4",children:"Add your Hoteles"}),(0,u.jsxs)(t.lV,{onSubmit:async function(e){s(!0),e.preventDefault();const n=new FormData,t=e.target.elements,o={name:t.name.value,address:t.address.value,price:t.price.value,phone:t.phone.value,type:t.type.value};n.append("name",o.name),n.append("address",o.address),n.append("price",o.price),n.append("phone",o.phone),n.append("creator",x),n.append("type",o.type),Array.from(l.map((e=>n.append("images",e))));try{const e=await fetch("https://lobster-app-4giu3.ondigitalocean.app/hoteles/add",{method:"POST",body:n,headers:{Authorization:"Bearer "+f}}),s=await e.json();if(!e.ok)throw h(s.message),(0,a.Pq)({message:s.message},{status:500})}catch(r){throw h(r.message||"Field to add hotel, Something went wrong."),s(!1),new Error("Field to adding hotel, Please try again later.",500)}b("/"),s(!1)},children:[(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{htmlFor:"name",className:"block text-gray-700 font-bold mb-2",children:"Hotel Name"}),(0,u.jsx)("input",{type:"text",id:"name",name:"name",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{htmlFor:"address",className:"block text-gray-700 font-bold mb-2",children:"Address"}),(0,u.jsx)("input",{type:"text",id:"address",name:"address",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{htmlFor:"price",className:"block text-gray-700 font-bold mb-2",children:"Price"}),(0,u.jsx)("input",{type:"number",id:"price",name:"price",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{htmlFor:"type",className:"block text-gray-700 font-bold mb-2",children:"Select Type"}),(0,u.jsxs)("select",{id:"type",children:[(0,u.jsx)("option",{value:"hotel",children:"Hotel"}),(0,u.jsx)("option",{value:"gest",children:"Gest house"})]})]}),(0,u.jsxs)("div",{className:"mb-4",children:[(0,u.jsx)("label",{htmlFor:"phone",className:"block text-gray-700 font-bold mb-2",children:"Phone no"}),(0,u.jsx)("input",{type:"number",id:"phone",name:"phone",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,u.jsx)(d.A,{getAllFiles:function(e){p(e)}}),(0,u.jsx)("button",{disabled:e,type:"submit",className:"w-full py-2 bg-black text-yellow-200 rounded-md hover:bg-blue-700",children:e?(0,u.jsx)(c.A,{}):"Add Hotels"})]})]})]})}}}]);
//# sourceMappingURL=447.ca479ead.chunk.js.map