"use strict";(self.webpackChunkquiz_app=self.webpackChunkquiz_app||[]).push([[447],{3447:(e,s,l)=>{l.r(s),l.d(s,{default:()=>p});var a=l(3216),n=l(1387),t=l(5475),o=l(5043),r=l(3352),d=l(7428),c=l(9380),i=l(579);function p(){const[e,s]=(0,o.useState)(null),[l,p]=(0,o.useState)(null),u=(0,a.Zp)(),m=(0,r.F6)(),b=(0,a.Ew)("root");return(0,o.useEffect)((()=>{null!==b&&b||u("/login")}),[b]),(0,i.jsx)(i.Fragment,{children:(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-center mb-4",children:"Add your Hoteles"}),(0,i.jsxs)(t.lV,{onSubmit:async function(e){s(!0),e.preventDefault();const a=new FormData,t=e.target.elements,o={name:t.name.value,address:t.address.value,price:t.price.value,phone:t.phone.value,type:t.type.value};a.append("name",o.name),a.append("address",o.address),a.append("price",o.price),a.append("phone",o.phone),a.append("creator",m),a.append("type",o.type),Array.from(l.map((e=>a.append("images",e))));try{const e=await fetch("https://hotel-booking-api-2x5aw.ondigitalocean.app/hoteles/add",{method:"POST",body:a,headers:{Authorization:"Bearer "+b}}),l=await e.json();if(!e.ok)throw s(!1),(0,n.Pq)({message:l.message},{status:500})}catch(r){throw new Error("Field to adding hotel, Please try again later.",500)}u("/"),s(!1)},children:[(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{htmlFor:"name",className:"block text-gray-700 font-bold mb-2",children:"Hotel Name"}),(0,i.jsx)("input",{type:"text",id:"name",name:"name",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{htmlFor:"address",className:"block text-gray-700 font-bold mb-2",children:"Address"}),(0,i.jsx)("input",{type:"text",id:"address",name:"address",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{htmlFor:"price",className:"block text-gray-700 font-bold mb-2",children:"Price"}),(0,i.jsx)("input",{type:"number",id:"price",name:"price",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{htmlFor:"type",className:"block text-gray-700 font-bold mb-2",children:"Select Type"}),(0,i.jsxs)("select",{id:"type",children:[(0,i.jsx)("option",{value:"hotel",children:"Hotel"}),(0,i.jsx)("option",{value:"gest",children:"Gest house"})]})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{htmlFor:"phone",className:"block text-gray-700 font-bold mb-2",children:"Phone no"}),(0,i.jsx)("input",{type:"number",id:"phone",name:"phone",className:"w-full px-4 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,i.jsx)(d.A,{getAllFiles:function(e){p(e)}}),(0,i.jsx)("button",{disabled:e,type:"submit",className:"w-full py-2 bg-black text-yellow-200 rounded-md hover:bg-blue-700",children:e?(0,i.jsx)(c.A,{}):"Add Hotels"})]})]})})}}}]);
//# sourceMappingURL=447.f6446eb1.chunk.js.map