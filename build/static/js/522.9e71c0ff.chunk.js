/*! For license information please see 522.9e71c0ff.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkquiz_app=self.webpackChunkquiz_app||[]).push([[522],{9522:(e,s,t)=>{t.r(s),t.d(s,{default:()=>j,loader:()=>b});var a=t(3216),l=t(5475),i=t(5043),n=t(712),r=t(3546),c=t(184),o=(t(2502),t(9380)),d=t(579);function x(e){let{phoneNumber:s,checkInDate:t,checkOutDate:a,numberOfGuests:l,totalPrice:i}=e;return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)(n.P.div,{whileHover:{scale:1.05},className:"flex items-center space-x-3",children:[(0,d.jsx)(c.Cab,{className:"text-green-500 text-xl"}),(0,d.jsx)("p",{children:s})]}),(0,d.jsxs)(n.P.div,{whileHover:{scale:1.05},className:"flex items-center space-x-3",children:[(0,d.jsx)(c.bfZ,{className:"text-red-500 text-xl"}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("p",{children:["Check-in:",new Date(t).toLocaleDateString()]}),(0,d.jsxs)("p",{children:["Check-out:",new Date(a).toLocaleDateString()]})]})]}),(0,d.jsxs)(n.P.div,{whileHover:{scale:1.05},className:"flex items-center space-x-3",children:[(0,d.jsx)(c.YXz,{className:"text-purple-500 text-xl"}),(0,d.jsxs)("p",{children:["Guests: ",l]})]}),(0,d.jsxs)(n.P.div,{whileHover:{scale:1.05},className:"flex items-center space-x-3",children:[(0,d.jsx)(c.MxO,{className:"text-yellow-500 text-xl"}),(0,d.jsxs)("p",{className:"font-bold",children:["Total: $",i]})]})]})})}var h=t(1577);function m(e){let{name:s,address:t,phone:a,price:l,type:i,images:r}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Booked Hotel"}),(0,d.jsxs)(n.P.div,{whileHover:{scale:1.05},className:"flex items-center space-x-3",children:[(0,d.jsx)(c.inQ,{className:"text-blue-500 text-xl"}),(0,d.jsx)("p",{className:"font-semibold",children:s})]}),(0,d.jsxs)(n.P.div,{whileHover:{scale:1.05},className:"flex items-center space-x-3",children:[(0,d.jsx)(c.vq8,{className:"text-red-500 text-xl"}),(0,d.jsx)("p",{children:t})]}),(0,d.jsxs)(n.P.div,{whileHover:{scale:1.05},className:"flex items-center space-x-3",children:[(0,d.jsx)(c.Cab,{className:"text-green-500 text-xl"}),(0,d.jsx)("p",{children:a})]}),(0,d.jsxs)(n.P.div,{whileHover:{scale:1.05},className:"flex items-center space-x-3",children:[(0,d.jsx)(c.MxO,{className:"text-yellow-500 text-xl"}),(0,d.jsxs)("p",{children:["Price: $",l,"/night"]})]}),(0,d.jsxs)(n.P.div,{whileHover:{scale:1.05},className:"flex items-center space-x-3",children:[(0,d.jsx)(c.inQ,{className:"text-purple-500 text-xl"}),(0,d.jsxs)("p",{children:["Type: ",i]})]})]}),(0,d.jsx)("div",{className:"mt-6",children:(0,d.jsx)(h.FN,{showArrows:!0,showThumbs:!1,infiniteLoop:!0,className:"rounded-lg overflow-hidden",children:r.map(((e,s)=>(0,d.jsx)("div",{children:(0,d.jsx)("img",{src:`https://lobster-app-4giu3.ondigitalocean.app/${e}`,alt:`Hotel image ${s+1}`,className:"object-cover h-64 w-full"})},s)))})})]})}var u=t(3352),p=t(6620);const g=e=>{let{book:s}=e;return(0,d.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-4 border border-gray-100",children:(0,d.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 sm:gap-6",children:[(0,d.jsxs)("div",{className:"flex items-center gap-3",children:[(0,d.jsx)("div",{className:"p-2 bg-blue-50 rounded-full",children:(0,d.jsx)(c.x$1,{className:"text-blue-600 text-xl"})}),(0,d.jsxs)("div",{children:[(0,d.jsx)("p",{className:"font-semibold text-lg text-gray-800",children:s.userName}),(0,d.jsx)("p",{className:"text-sm text-gray-500 mt-0.5",children:(0,d.jsx)(p.A,{phoneNumber:s.phoneNumber,children:" Call To Customer  "})})]})]}),(0,d.jsx)("div",{className:"flex items-center",children:(0,d.jsx)("span",{className:"px-4 py-1.5 rounded-full text-sm font-medium "+("Confirmed"===s.status?"bg-green-50 text-green-600":"bg-yellow-50 text-yellow-600"),children:s.status})})]})})};function j(){const e=(0,a.LG)(),[s,t]=(0,i.useState)(""),[h,p]=(0,i.useState)({}),[j,b]=(0,i.useState)(!1),[f,N]=(0,i.useState)(!1),v=((new Date).toLocaleDateString(),(0,a.Zp)()),y=(0,a.Ew)("root");(0,u.F6)(),(0,u.Xz)();console.log(e),(0,i.useEffect)((()=>{null===y&&v("/login")}),[y]);const w=e.bookings,k={hidden:{y:20,opacity:0},visible:{y:0,opacity:1,transition:{type:"spring",stiffness:100}}};return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(n.P.div,{initial:"hidden",animate:"visible",variants:{hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1,delayChildren:.3}}},className:"p-6 bg-gray-50 min-h-screen",children:w?(0,d.jsx)("ul",{className:"space-y-6",children:w.map(((e,a)=>(0,d.jsxs)(n.P.li,{variants:k,className:"bg-white rounded-xl shadow-lg overflow-hidden",children:[(0,d.jsxs)("div",{className:"p-6",children:[(0,d.jsx)(g,{book:e}),(0,d.jsxs)("button",{onClick:()=>(e=>{p((s=>({...s,[e]:!s[e]})))})(a),className:"w-full flex items-center justify-center space-x-2 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition duration-300",children:[(0,d.jsx)("span",{children:h[a]?"Hide Details":"Load More"}),h[a]?(0,d.jsx)(c.Ucs,{}):(0,d.jsx)(c.Vr3,{})]})]}),(0,d.jsx)(r.N,{children:h[a]&&(0,d.jsxs)(n.P.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"p-6 border-t border-gray-200",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,d.jsx)("div",{children:(0,d.jsx)(x,{checkInDate:e.checkInDate,checkOutDate:e.checkOutDate,numberOfGuests:e.numberOfGuests,phoneNumber:e.phoneNumber,totalPrice:e.totalPrice})}),(0,d.jsx)("div",{children:(0,d.jsx)(m,{address:e.hotelId.address,images:e.hotelId.images,name:e.hotelId.name,phone:e.hotelId.phone,price:e.hotelId.price,type:e.hotelId.type})})]}),(0,d.jsx)("h1",{className:"text-xl font-semibold text-gray-800 mt-4",children:"Update Booking Status"}),(0,d.jsxs)(l.lV,{onSubmit:t=>async function(e,t){e.preventDefault();const a=new FormData(e.target),l=Object.fromEntries(a.entries());b(!0);try{const e=await fetch(`https://lobster-app-4giu3.ondigitalocean.app/bookings/${t}/update`,{method:"PATCH",body:JSON.stringify({...l,status:s}),headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`}}),a=await e.json();if(!e.ok)throw new Error(a.message)}catch(i){throw b(!1),new Error("Field to update hotel, Please try again later.",500)}v("/admin"),b(!1)}(t,e._id),className:"h-96 p-4",children:[(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,d.jsxs)("div",{children:[(0,d.jsx)("label",{htmlFor:"update",className:"block text-sm font-medium text-gray-700 mb-2",children:"Update booking status"}),(0,d.jsxs)("select",{id:"update",onChange:e=>function(e){const{value:s}=e.target;t(s)}(e),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600",children:[(0,d.jsx)("option",{value:"",children:"Select status"}),(0,d.jsx)("option",{value:"Clear",children:"Clear"}),(0,d.jsx)("option",{value:"Booked",children:"Booked"}),(0,d.jsx)("option",{value:"Canceled",children:"Canceled"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{htmlFor:"checkOutDate",className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,d.jsx)(c.bfZ,{className:"inline mr-2"}),"Check-out Date"]}),(0,d.jsx)("input",{id:"checkOutDate",type:"date",name:"checkOutDate",required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]})]}),(0,d.jsxs)("div",{children:[(0,d.jsxs)("label",{htmlFor:"numberOfGuests",className:"block text-sm font-medium text-gray-700 mb-2",children:[(0,d.jsx)(c.YXz,{className:"inline mr-2"}),"Number of Guests"]}),(0,d.jsx)("input",{id:"numberOfGuests",type:"number",required:!0,min:"1",name:"numberOfGuests",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),(0,d.jsx)(n.P.button,{type:"submit",disabled:j,whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full bg-blue-600 hover:bg-blue-700 text-white font-semibold py-3 px-4 rounded-lg mt-4 transition duration-300 ease-in-out",children:j?(0,d.jsx)(o.A,{}):"Update Room Status"})]}),(0,d.jsx)("div",{className:"flex justify-end mt-4",children:(0,d.jsx)(n.P.button,{disabled:f,onClick:()=>async function(e){N(!0);try{const s=await fetch(`https://lobster-app-4giu3.ondigitalocean.app/bookings/${e}/cancel`,{method:"DELETE",headers:{Authorization:"Bearer "+y}}),t=await s.json();if(!s.ok)throw new Error(t.message)}catch(s){throw N(!1),new Error("Field to update hotel, Please try again later.",500)}v("/admin"),N(!1)}(e.id),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg font-semibold transition duration-300 "+(f?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-red-600 text-white hover:bg-red-700"),children:f?(0,d.jsx)(o.A,{}):"Delete booking"})})]})})]},a)))}):(0,d.jsx)(n.P.h1,{initial:{opacity:0},animate:{opacity:1},className:"text-2xl font-bold text-center text-gray-800",children:"Loading..."})})})}async function b(){try{const e=await fetch("https://lobster-app-4giu3.ondigitalocean.app/bookings"),s=await e.json();if(!e.ok)throw new Error(s.message);return s}catch(e){throw JSON}}},6620:(e,s,t)=>{t.d(s,{A:()=>i});t(5043);const a=(0,t(7784).A)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);var l=t(579);const i=e=>{let{children:s,phoneNumber:t}=e;return(0,l.jsxs)("p",{className:"flex items-center text-gray-300",children:[(0,l.jsx)(a,{className:"mr-2 text-indigo-400",size:18}),s,(0,l.jsx)("a",{href:`tel:${t}`,onClick:e=>{e.preventDefault(),window.location.href=`tel:${t}`},className:"ml-2 text-indigo-400 hover:text-indigo-300 transition-colors duration-200",children:t})]})}}}]);
//# sourceMappingURL=522.9e71c0ff.chunk.js.map